function FastIntegerCompression(){}function bytelog(c){return 128>c?1:16384>c?2:2097152>c?3:268435456>c?4:5}function zigzag_encode(c){return c+c^c>>31}function zigzag_decode(c){return c>>1^-(c&1)}FastIntegerCompression.computeCompressedSizeInBytes=function(c){for(var g=c.length,f=0,b=0;b<g;b++)f+=bytelog(c[b]);return f};FastIntegerCompression.computeCompressedSizeInBytesSigned=function(c){for(var g=c.length,f=0,b=0;b<g;b++)f+=bytelog(zigzag_encode(c[b]));return f};
FastIntegerCompression.compress=function(c){for(var g=c.length,f=new ArrayBuffer(FastIntegerCompression.computeCompressedSizeInBytes(c)),b=new Int8Array(f),a=0,e=0;e<g;e++){var d=c[e];128>d?b[a++]=d:16384>d?(b[a++]=d&127|128,b[a++]=d>>>7):2097152>d?(b[a++]=d&127|128,b[a++]=d>>>7&127|128,b[a++]=d>>>14):268435456>d?(b[a++]=d&127|128,b[a++]=d>>>7&127|128,b[a++]=d>>>14&127|128,b[a++]=d>>>21):(b[a++]=d&127|128,b[a++]=d>>>7&127|128,b[a++]=d>>>14&127|128,b[a++]=d>>>21&127|128,b[a++]=d>>>28)}return f};
FastIntegerCompression.computeHowManyIntegers=function(c){for(var g=(new Int8Array(c)).length,f=0,b=0;b<g;b++)f+=c[b]>>>7;return g-f};FastIntegerCompression.uncompress=function(c){var g=[];c=new Int8Array(c);for(var f=c.length,b=0;f>b;){var a=c[b++],e=a&127;0<=a||(a=c[b++],e|=(a&127)<<7,0<=a||(a=c[b++],e|=(a&127)<<14,0<=a||(a=c[b++],e|=(a&127)<<21,0<=a||(a=c[b++],e|=a<<28))));g.push(e)}return g};
FastIntegerCompression.compressSigned=function(c){for(var g=c.length,f=new ArrayBuffer(FastIntegerCompression.computeCompressedSizeInBytesSigned(c)),b=new Int8Array(f),a=0,e=0;e<g;e++){var d=zigzag_encode(c[e]);128>d?b[a++]=d:16384>d?(b[a++]=d&127|128,b[a++]=d>>>7):2097152>d?(b[a++]=d&127|128,b[a++]=d>>>7&127|128,b[a++]=d>>>14):268435456>d?(b[a++]=d&127|128,b[a++]=d>>>7&127|128,b[a++]=d>>>14&127|128,b[a++]=d>>>21):(b[a++]=d&127|128,b[a++]=d>>>7&127|128,b[a++]=d>>>14&127|128,b[a++]=d>>>21&127|128,
b[a++]=d>>>28)}return f};FastIntegerCompression.uncompressSigned=function(c){var g=[];c=new Int8Array(c);for(var f=c.length,b=0;f>b;){var a=c[b++],e=a&127;0<=a||(a=c[b++],e|=(a&127)<<7,0<=a||(a=c[b++],e|=(a&127)<<14,0<=a||(a=c[b++],e|=(a&127)<<21,0<=a||(a=c[b++],e|=a<<28))));g.push(zigzag_decode(e))}return g};